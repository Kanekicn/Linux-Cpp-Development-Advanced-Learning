# C++进阶(14) 你忽视的操作符

## 14.1 逻辑操作符

逻辑操作符的原生语意：

- 操作符只有bool值（true false)
- 逻辑表达式不用完全计算能确定最终值

> 实验14-1 逻辑操作符



陷阱：**重载逻辑操作符**

> 实验14-2 重载逻辑操作符的陷阱

问题分析：重载逻辑操作符本质为函数，在编译器遇到被重载的操作符时，会转换为函数调用的形式，则逻辑操作符的左右两个数都换转换为函数参数，而函数参数的调用顺序不定。

违背了逻辑操作符的原生语意，所以在实际工程开发中避免重载逻辑操作符。如果一定要重载，则

- 通过重载比较操作符代替
- 通过使用成员函数代替
- 使用全局函数对逻辑操作符进行重载

</br>

## 14.2 逗号操作符

逗号表达式：

- 用于将多个子表达式连接为一个表达式
- 表达式的值为最后一个子表达式的值
- 前N-1 个子表达式可以没有返回值
- 从左向右顺序计算子表达式的值

> 实验 14-3：逗号操作符

### 14.2.1 重载逗号操作符

- 使用全局函数对逗号操作符进行重载
- 参数必须有一个是类类型
- 返回值必须是引用

```C++
Class& operator , (const Class& a, const Class& b){
  return const_cast<Class&>(b);
}
```

与逻辑操作符相同，重载逗号操作符后，会从右向左计算，违背了逗号表达式从左向右计算的原生语义。

所以，工程中**不要重载逗号表达式** 。

</br>

## 14.3 前置操作符与后置操作符

i++ ， ++i 有什么区别？为什么？

i++ // i 的值作为返回值，i自增1

++i //  i自增1，将i的值作为返回值

> 实验14-5 ： 自增运算符

单独的自增运算符，由于编译器的优化，并无差别。




































# C++进阶(00-3) 赋值

## 00-3.1 拷贝构造函数与赋值

- 编译器为每个类默认重载了赋值操作符
- 默认赋值操作符仅完成了浅拷贝
- 需要进行深拷贝时，必须重载赋值操作符
- 赋值操作符与拷贝构造函数有相同的存在意义

赋值操作符重载与拷贝构造函数

示例1 - 拷贝构造函数用例

```C++
Test t1 = t2;
```

示例2 - 赋值操作符重载用例

```C++
Test t1(1);
Test t2(t1);		// 拷贝构造函数
t2 = t1;				// 赋值操作符重载
```

在创建对象时，无论使用 `()` 还是 `=` ，其调用的是构造函数（带参数构造函数 / 拷贝构造函数）。而在创建后，对对象赋值时，使用操作符重载函数。

默认赋值操作符重载函数，仅对对象进行浅拷贝操作。当类中含有动态内存对象时，需要自定义赋值操作符重载函数。



问题分析：

<img src="/Users/lyj/Library/Application Support/typora-user-images/image-20201007104642828.png" alt="image-20201007104642828" style="zoom:50%;" />

> 当需要进行深拷贝时，必须赋值操作符的重载和拷贝构造函数。

</br>

## 00-3.2 编译器默认提供的函数

- 默认构造函数（无参构造函数）
- 拷贝构造函数
- 赋值符号函数重载
- 析构函数

<img src="/Users/lyj/Library/Application Support/typora-user-images/image-20201007105005740.png" alt="image-20201007105005740" style="zoom:50%;" />











